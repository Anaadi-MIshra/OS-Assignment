Implementation of thread and racearound condition
